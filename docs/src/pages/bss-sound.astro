---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
---

<StarlightPage frontmatter={{ title: 'Bespoke Sound System' }}>
    <p>This is a web page with sonic feedback.</p>
    <!-- You can now observe events in the proxied document -->
    <wa-button>Web Awesome Button</wa-button>
</StarlightPage>

<script>
    import '@bss/sonic/init';
</script>


<!--<script>-->
<!--    import { createProxy } from '@bss/sonic/api/create-proxy';-->
<!--    import { SoundObservable } from '@bss/sonic/api/event-observer';-->

<!--    // Client-side logic-->
<!--    const observable = new SoundObservable(); // Instantiate SoundObservable-->
<!--    const proxiedDocument = createProxy(document, { observable });-->

<!--    // Example: Observe click events globally-->
<!--    proxiedDocument.addEventListener('click', (event: Event) => {-->
<!--        console.log('Document clicked:', event);-->
<!--    });-->
<!--</script>-->

<link rel="stylesheet" href="https://early.webawesome.com/webawesome@3.0.0-alpha.5/dist/themes/default.css" />
<script type="module" src="https://early.webawesome.com/webawesome@3.0.0-alpha.5/dist/webawesome.loader.js"></script>

<!--<script>-->
<!--    import { createProxy } from '@bss/sonic/api/create-proxy';-->
<!--    import { SoundObservable } from '@bss/sonic/api/event-observer';-->

<!--    const observable = new SoundObservable(); // Instantiate SoundObservable-->

<!--    // List of all event types to observe-->
<!--    const allEventTypes = [-->
<!--        'click', 'mousemove', 'keydown', 'keyup', 'focus', 'blur', 'scroll',-->
<!--        'pointerdown', 'pointerup', 'pointermove', 'mouseenter', 'mouseleave',-->
<!--        'dragstart', 'dragend', 'drop', 'resize', 'touchstart', 'touchend', 'wheel'-->
<!--    ];-->

<!--    // Proxy document to observe all events-->
<!--    const proxiedDocument = createProxy(document, { observable, events: allEventTypes });-->

<!--    // Log every observed event-->
<!--    observable.addObserver((event) => {-->
<!--        console.log(`Event observed: ${event.type}`, event.event);-->
<!--    });-->
<!--</script>-->